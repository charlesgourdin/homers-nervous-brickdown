{"ast":null,"code":"import _toConsumableArray from\"/home/administrateur/Projet/lyon-0919-react-p2-brick-breaker/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/administrateur/Projet/lyon-0919-react-p2-brick-breaker/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/administrateur/Projet/lyon-0919-react-p2-brick-breaker/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/administrateur/Projet/lyon-0919-react-p2-brick-breaker/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/administrateur/Projet/lyon-0919-react-p2-brick-breaker/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/administrateur/Projet/lyon-0919-react-p2-brick-breaker/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./Game.css';import Point from'../components/Point';import Bricks from'../components/Bricks';import Pad from'../components/Pad';import Bonus from'../components/Bonus';import MoveBart from'../components/MoveBart';import Popuploose from'../components/Popuploose';import Popupwin from'../components/Popupwin';import Countdown from'../components/Countdown';import brickUrl from'../musique/brick.mp3';import Malus from'../components/Malus';import dunutsUrl from'../musique/donuts.mp3';import dohUrl from'../musique/doh.mp3';import FallingBart from'../components/FallingBart';var Game=/*#__PURE__*/function(_Component){_inherits(Game,_Component);function Game(props){var _this;_classCallCheck(this,Game);_this=_possibleConstructorReturn(this,_getPrototypeOf(Game).call(this,props));_this.movePad=function(){document.addEventListener('touchstart',function(event){if(event.touches[0].pageX-_this.padWidth/2>2&&event.touches[0].pageX-_this.padWidth/2<373-_this.padWidth)_this.setState({xLeft:Math.ceil(event.touches[0].pageX-_this.padWidth/2)});// if - else if : Compteur pour déplacer la balle avant de l'envoyer\nif(!_this.isBallMoving&&_this.counterBall===1){_this.isBallMoving=true;}else if(!_this.isBallMoving){_this.counterBall++;}},false);document.addEventListener('touchmove',function(event){if(_this.state.xLeft>2&&_this.state.xLeft<373-_this.padWidth){_this.setState({xLeft:Math.ceil(event.touches[0].pageX-_this.padWidth/2)});}if(_this.state.xLeft<=2){_this.setState({xLeft:3});}if(_this.state.xLeft>=373-_this.padWidth){_this.setState({xLeft:372-_this.padWidth});}},false);};_this.manageAudioBricks=function(){_this.brick.play();};_this.manageAudioDunuts=function(){_this.dunuts.play();};_this.manageAudioDoh=function(){_this.doh.play();};_this.deleteBricks=function(){var newBrickWall=_this.state.brickWall.filter(function(item){return!(_this.state.pointTop+20>item.top&&_this.state.pointTop<item.top+20&&_this.state.pointLeft+20>item.left&&_this.state.pointLeft<item.left+67);});if(newBrickWall.length<_this.state.brickWall.length){_this.manageAudioBricks();}_this.setState({brickWall:newBrickWall});};_this.getBonus=function(){if(Math.ceil(Math.random()*8)===8&&_this.padWidth===100){var newDonutsTab=_this.state.brickWall.find(function(item){return _this.state.pointTop+20>item.top&&_this.state.pointTop<item.top+20&&_this.state.pointLeft+20>item.left&&_this.state.pointLeft<item.left+67;});_this.setState({bonus:[].concat(_toConsumableArray(_this.state.bonus),[newDonutsTab])});}};_this.isBonusCollide=function(top,left){if(top>472&&top<=475&&left+10>_this.state.xLeft&&left-10<_this.state.xLeft+_this.padWidth){_this.padWidth=150;_this.manageAudioDunuts();return true;}};_this.getMalus=function(){if(!_this.malusOn&&_this.state.brickWall.length>2){//On change l'état au bout d'un temps random puis on rappelle la fonction. \nsetTimeout(function(){_this.setState({malus:[].concat(_toConsumableArray(_this.state.malus),[_this.state.bartDepart])});_this.getMalus();},Math.floor(Math.random()*(10000-5000+1))+5000);}};_this.isMalusCollide=function(top,left){if(top>472&&top<=475&&left+10>_this.state.xLeft&&left-10<_this.state.xLeft+_this.padWidth){_this.malusOn=true;_this.manageAudioDoh();return true;}};_this.isBartCollide=function(top,left){if(top>472&&top<=475&&left+10>_this.state.xLeft&&left-10<_this.state.xLeft+_this.padWidth){_this.win=true;return true;}};_this.isBartDontCollide=function(){_this.loose=true;};_this.generateIfCollideX=function(left,top){// 10 correspond à la moitié de la balle, 2.5 à la moitié du espace vertical, 5 à la moitié d'un espace horizontal\nreturn _this.state.pointTop+10>top-2.5&&_this.state.pointTop+10<top+22.5&&_this.state.pointLeft+20>left&&_this.state.pointLeft<left+67;};_this.generateIfCollideY=function(left,top){return _this.state.pointTop+20>top&&_this.state.pointTop<top+20&&_this.state.pointLeft+10>left-5&&_this.state.pointLeft+10<left+67+5;};_this.checkIfCollideX=function(){return _this.state.brickWall.find(function(item){return _this.generateIfCollideX(item.left,item.top)===true;});};_this.checkIfCollideY=function(){return _this.state.brickWall.find(function(item){return _this.generateIfCollideY(item.left,item.top)===true;});};_this.checkIfCollidePadY=function(){if(_this.state.pointTop>472&&_this.state.pointTop<474){if(_this.state.pointLeft+10>_this.state.xLeft+_this.padWidth*0&&_this.state.pointLeft-10<_this.state.xLeft+_this.padWidth*0.1){_this.goRight=true;_this.speedX=-1.5;_this.speedY=1.5;}else if(_this.state.pointLeft+10>=_this.state.xLeft+_this.padWidth*0.1&&_this.state.pointLeft-10<_this.state.xLeft+_this.padWidth*0.3){_this.goRight=true;_this.speedX=-1;_this.speedY=2;}else if(_this.state.pointLeft+10>=_this.state.xLeft+_this.padWidth*0.30&&_this.state.pointLeft-10<_this.state.xLeft+_this.padWidth*0.45){_this.goRight=true;_this.speedX=-0.5;_this.speedY=2.5;}else if(_this.state.pointLeft+10>=_this.state.xLeft+_this.padWidth*0.45&&_this.state.pointLeft-10<_this.state.xLeft+_this.padWidth*0.55){_this.goRight=true;_this.speedX=0;_this.speedY=3;}else if(_this.state.pointLeft+10>=_this.state.xLeft+_this.padWidth*0.55&&_this.state.pointLeft-10<_this.state.xLeft+_this.padWidth*0.70){_this.goRight=true;_this.speedX=0.5;_this.speedY=2.5;}else if(_this.state.pointLeft+10>=_this.state.xLeft+_this.padWidth*0.70&&_this.state.pointLeft-10<_this.state.xLeft+_this.padWidth*0.90){_this.goRight=true;_this.speedX=1;_this.speedY=2;}else if(_this.state.pointLeft+10>=_this.state.xLeft+_this.padWidth*0.90&&_this.state.pointLeft-10<_this.state.xLeft+_this.padWidth*1){_this.goRight=true;_this.speedX=1.5;_this.speedY=1.5;}}return _this.state.pointTop>472&&_this.state.pointTop<474&&_this.state.pointLeft+10>_this.state.xLeft&&_this.state.pointLeft-10<_this.state.xLeft+_this.padWidth;};_this.moovingBall=function(){if(_this.isBallMoving){_this.setState(_this.goRight?{pointLeft:_this.state.pointLeft+_this.speedX}:{pointLeft:_this.state.pointLeft-_this.speedX});if(_this.state.pointLeft>355||_this.state.pointLeft<0){_this.goRight=!_this.goRight;}else if(_this.checkIfCollideX()){_this.getBonus();_this.deleteBricks();_this.goRight=!_this.goRight;}_this.setState(_this.goDown?{pointTop:_this.state.pointTop+_this.speedY}:{pointTop:_this.state.pointTop-_this.speedY});if(_this.state.pointTop<0||_this.checkIfCollidePadY()){_this.goDown=!_this.goDown;}else if(_this.checkIfCollideY()){_this.getBonus();_this.deleteBricks();_this.goDown=!_this.goDown;}if(_this.state.pointTop>587){_this.isBallMoving=false;_this.goDown=false;_this.counterBall=0;_this.goRight=true;_this.life=_this.life-1;}}else{_this.setState({pointTop:472,pointLeft:_this.state.xLeft-10+_this.padWidth/2});_this.speedX=1.5;_this.speedY=1.5;}if(_this.state.timer<8){_this.setState({timer:_this.state.timer+1});}else{_this.setState({timer:0});}_this.padWidth===150&&setTimeout(function(){return _this.padWidth=100;},6000);_this.malusOn&&setTimeout(function(){return _this.malusOn=false;},6000);setTimeout(_this.moovingBall,_this.interval);};_this.getBrickWall=function(){var brick=[];for(var i=0;i<6;i++){for(var j=0;j<5;j++){brick.push({top:i*25,left:j*77});}}// brick.push({ top: 0, left: 0 })\nreturn brick;};_this.MouvBartX=function(){if(_this.bartGoRight){_this.setState({bartDepart:_this.state.bartDepart+5});}else{_this.setState({bartDepart:_this.state.bartDepart-5});}if(_this.state.bartDepart>375-35)_this.bartGoRight=false;else if(_this.state.bartDepart<35){_this.bartGoRight=true;}setTimeout(_this.MouvBartX,100);};_this.getRestart=function(){_this.life=3;_this.win=false;_this.setState({brickWall:_this.getBrickWall(),bonus:[],time:61});};_this.countDown=function(){if(_this.props.counter===true){if(_this.state.time>0){_this.setState({time:_this.state.time-1});}if(_this.state.time<=9){_this.setState({color:\"red\"});}if(_this.state.time===0){}setTimeout(_this.countDown,1000);}};_this.interval=5;_this.bartGoRight=true;_this.goRight=true;_this.goDown=false;_this.isBallMoving=false;_this.counterBall=0;_this.life=3;_this.padWidth=100;_this.malusOn=false;_this.speedX=1.5;_this.speedY=1.5;_this.win=false;_this.loose=false;_this.state={bartDepart:0,pointLeft:20,pointTop:400,brickWall:_this.getBrickWall(),xLeft:140,bonus:[],malus:[],timer:0,isPlaying:false,time:91,color:'white'};_this.brick=new Audio(brickUrl);_this.dunuts=new Audio(dunutsUrl);_this.doh=new Audio(dohUrl);return _this;}_createClass(Game,[{key:\"componentDidMount\",value:function componentDidMount(){this.moovingBall();this.movePad();this.MouvBartX();this.countDown();this.getMalus();}},{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){return nextState.timer===8||this.state.pointLeft>355||this.state.pointLeft<0||this.checkIfCollideX()||this.state.pointTop<0||this.checkIfCollideY()||this.checkIfCollidePadY();}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,pointLeft=_this$state.pointLeft,pointTop=_this$state.pointTop,xLeft=_this$state.xLeft,bartDepart=_this$state.bartDepart,brickWall=_this$state.brickWall;return React.createElement(\"div\",{className:\"Game\",style:{transform:this.malusOn?'scale(0.85) scaleX(-1)':'scale(0.85)'}},(this.life===0||this.state.time===0||this.loose===true)&&React.createElement(Popuploose,{restart:this.getRestart}),this.win&&React.createElement(Popupwin,{restart:this.getRestart}),React.createElement(\"div\",{className:\"header\"},React.createElement(\"div\",{className:\"lifeBar\"},React.createElement(\"div\",{className:this.life>=3?\"life\":\"noLife\"}),React.createElement(\"div\",{className:this.life>=2?\"life\":\"noLife\"}),React.createElement(\"div\",{className:this.life>=1?\"life\":\"noLife\"})),this.props.counter===true&&React.createElement(Countdown,{time:this.state.time,color:this.state.color})),React.createElement(\"div\",{style:{position:'relative',height:'600px',width:'375',top:'67px'}},React.createElement(MoveBart,{left:bartDepart,bartGoRight:this.bartGoRight,endGame:brickWall}),this.state.brickWall.map(function(item){return React.createElement(Bricks,{top:item.top,left:item.left,key:item.top+'-'+item.left});}),this.state.bonus.map(function(item){return React.createElement(Bonus,{top:item.top,left:item.left+10,key:item.top+'-'+item.left,callback:_this2.isBonusCollide});}),this.state.malus.map(function(item){return React.createElement(Malus,{left:item,key:item,isMalusCollide:_this2.isMalusCollide});}),this.state.brickWall.length===0&&React.createElement(FallingBart,{left:this.state.bartDepart,isBartCollide:this.isBartCollide,isBartDontCollide:this.isBartDontCollide}),React.createElement(Point,{left:pointLeft,top:pointTop,move:this.isBallMoving,brick:brickWall}),React.createElement(Pad,{left:xLeft,width:this.padWidth})));}}]);return Game;}(Component);export default Game;","map":{"version":3,"sources":["/home/administrateur/Projet/lyon-0919-react-p2-brick-breaker/src/pages/Game.js"],"names":["React","Component","Point","Bricks","Pad","Bonus","MoveBart","Popuploose","Popupwin","Countdown","brickUrl","Malus","dunutsUrl","dohUrl","FallingBart","Game","props","movePad","document","addEventListener","event","touches","pageX","padWidth","setState","xLeft","Math","ceil","isBallMoving","counterBall","state","manageAudioBricks","brick","play","manageAudioDunuts","dunuts","manageAudioDoh","doh","deleteBricks","newBrickWall","brickWall","filter","item","pointTop","top","pointLeft","left","length","getBonus","random","newDonutsTab","find","bonus","isBonusCollide","getMalus","malusOn","setTimeout","malus","bartDepart","floor","isMalusCollide","isBartCollide","win","isBartDontCollide","loose","generateIfCollideX","generateIfCollideY","checkIfCollideX","checkIfCollideY","checkIfCollidePadY","goRight","speedX","speedY","moovingBall","goDown","life","timer","interval","getBrickWall","i","j","push","MouvBartX","bartGoRight","getRestart","time","countDown","counter","color","isPlaying","Audio","nextProps","nextState","transform","position","height","width","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './Game.css';\nimport Point from '../components/Point';\nimport Bricks from '../components/Bricks';\nimport Pad from '../components/Pad';\nimport Bonus from '../components/Bonus';\nimport MoveBart from '../components/MoveBart'\nimport Popuploose from '../components/Popuploose';\nimport Popupwin from '../components/Popupwin';\nimport Countdown from '../components/Countdown';\nimport brickUrl from '../musique/brick.mp3'\nimport Malus from '../components/Malus';\nimport dunutsUrl from '../musique/donuts.mp3'\nimport dohUrl from '../musique/doh.mp3'\nimport FallingBart from '../components/FallingBart';\n\nclass Game extends Component {\n  constructor(props) {\n    super(props)\n    this.interval = 5;\n    this.bartGoRight = true;\n    this.goRight = true;\n    this.goDown = false;\n    this.isBallMoving = false;\n    this.counterBall = 0;\n    this.life = 3;\n    this.padWidth = 100;\n    this.malusOn = false;\n    this.speedX = 1.5;\n    this.speedY = 1.5;\n    this.win = false;\n    this.loose = false;\n    this.state = {\n      bartDepart: 0,\n      pointLeft: 20,\n      pointTop: 400,\n      brickWall: this.getBrickWall(),\n      xLeft: 140,\n      bonus: [],\n      malus: [],\n      timer: 0,\n      isPlaying: false,\n      time: 91,\n      color: 'white',\n    }\n    this.brick = new Audio(brickUrl);\n    this.dunuts = new Audio(dunutsUrl);\n    this.doh = new Audio(dohUrl);\n  }\n\n  movePad = () => {\n    document.addEventListener('touchstart', event => {\n      if ((event.touches[0].pageX - this.padWidth / 2 > 2) && (event.touches[0].pageX - this.padWidth / 2 < 373 - this.padWidth))\n        this.setState({\n          xLeft: Math.ceil(event.touches[0].pageX - this.padWidth / 2)\n        })\n      // if - else if : Compteur pour déplacer la balle avant de l'envoyer\n      if (!this.isBallMoving && this.counterBall === 1) {\n        this.isBallMoving = true\n      } else if (!this.isBallMoving) {\n        this.counterBall++\n      }\n    }, false);\n    document.addEventListener('touchmove', event => {\n      if ((this.state.xLeft > 2) && (this.state.xLeft < 373 - this.padWidth)) {\n        this.setState({\n          xLeft: Math.ceil(event.touches[0].pageX - this.padWidth / 2)\n        })\n      }\n      if (this.state.xLeft <= 2) {\n        this.setState({\n          xLeft: 3\n        })\n      }\n      if (this.state.xLeft >= 373 - this.padWidth) {\n        this.setState({\n          xLeft: 372 - this.padWidth\n        })\n      }\n    }, false);\n\n  }\n\n  manageAudioBricks = () => {\n    this.brick.play()\n  }\n\n  manageAudioDunuts = () => {\n    this.dunuts.play()\n  }\n\n  manageAudioDoh = () => {\n    this.doh.play()\n  }\n\n  deleteBricks = () => {\n    const newBrickWall = this.state.brickWall\n      .filter(item => {\n        return !(this.state.pointTop + 20 > item.top && this.state.pointTop < item.top + 20 && this.state.pointLeft + 20 > item.left && this.state.pointLeft < item.left + 67)\n      })\n    if (newBrickWall.length < this.state.brickWall.length) {\n      this.manageAudioBricks()\n    }\n    this.setState({\n      brickWall: newBrickWall\n    })\n\n  }\n\n  getBonus = () => {\n    if ((Math.ceil(Math.random() * 8) === 8) && (this.padWidth === 100)) {\n      const newDonutsTab = this.state.brickWall\n        .find(item => {\n          return (this.state.pointTop + 20 > item.top && this.state.pointTop < item.top + 20 && this.state.pointLeft + 20 > item.left && this.state.pointLeft < item.left + 67)\n        })\n      this.setState({ bonus: [...this.state.bonus, newDonutsTab] })\n    }\n  }\n\n  isBonusCollide = (top, left) => {\n    if (top > 472\n      && top <= 475\n      && left + 10 > this.state.xLeft\n      && left - 10 < this.state.xLeft + this.padWidth) {\n      this.padWidth = 150;\n      this.manageAudioDunuts()\n      return true\n    }\n  }\n\n  getMalus = () => {\n    if ((!this.malusOn) && (this.state.brickWall.length > 2)) {\n      //On change l'état au bout d'un temps random puis on rappelle la fonction. \n      setTimeout(() => {\n        this.setState({\n          malus: [...this.state.malus, this.state.bartDepart]\n        })\n        this.getMalus();\n      }, Math.floor(Math.random() * (10000 - 5000 + 1)) + 5000)\n    }\n  }\n\n  isMalusCollide = (top, left) => {\n    if (top > 472\n      && top <= 475\n      && left + 10 > this.state.xLeft\n      && left - 10 < this.state.xLeft + this.padWidth) {\n      this.malusOn = true;\n      this.manageAudioDoh()\n      return true\n    }\n  }\n\n  isBartCollide = (top, left) => {\n    if (top > 472\n      && top <= 475\n      && left + 10 > this.state.xLeft\n      && left - 10 < this.state.xLeft + this.padWidth) {\n      this.win = true;\n      return true\n    }\n  }\n\n  isBartDontCollide = () => {\n    this.loose = true\n  }\n\n  generateIfCollideX = (left, top) => {\n    // 10 correspond à la moitié de la balle, 2.5 à la moitié du espace vertical, 5 à la moitié d'un espace horizontal\n    return (this.state.pointTop + 10 > top - 2.5 && this.state.pointTop + 10 < top + 22.5 && this.state.pointLeft + 20 > left && this.state.pointLeft < left + 67)\n  }\n\n  generateIfCollideY = (left, top) => {\n    return (this.state.pointTop + 20 > top && this.state.pointTop < top + 20 && this.state.pointLeft + 10 > left - 5 && this.state.pointLeft + 10 < left + 67 + 5)\n  }\n\n  checkIfCollideX = () => {\n    return (this.state.brickWall\n      .find(item => {\n        return this.generateIfCollideX(item.left, item.top) === true\n      }))\n  }\n\n  checkIfCollideY = () => {\n    return (this.state.brickWall\n      .find(item => {\n        return this.generateIfCollideY(item.left, item.top) === true\n      }))\n  }\n\n  checkIfCollidePadY = () => {\n    if (this.state.pointTop > 472 && this.state.pointTop < 474) {\n      if (this.state.pointLeft + 10 > (this.state.xLeft + this.padWidth * 0)\n        && this.state.pointLeft - 10 < (this.state.xLeft + this.padWidth * 0.1)) {\n        this.goRight = true;\n        this.speedX = -1.5;\n        this.speedY = 1.5\n      }\n      else if (this.state.pointLeft + 10 >= (this.state.xLeft + this.padWidth * 0.1)\n        && this.state.pointLeft - 10 < (this.state.xLeft + this.padWidth * 0.3)) {\n        this.goRight = true;\n        this.speedX = -1;\n        this.speedY = 2\n      }\n      else if (this.state.pointLeft + 10 >= (this.state.xLeft + this.padWidth * 0.30)\n        && this.state.pointLeft - 10 < (this.state.xLeft + this.padWidth * 0.45)) {\n        this.goRight = true;\n        this.speedX = -0.5;\n        this.speedY = 2.5\n      }\n      else if (this.state.pointLeft + 10 >= (this.state.xLeft + this.padWidth * 0.45)\n        && this.state.pointLeft - 10 < (this.state.xLeft + this.padWidth * 0.55)) {\n        this.goRight = true;\n        this.speedX = 0;\n        this.speedY = 3\n      }\n      else if (this.state.pointLeft + 10 >= (this.state.xLeft + this.padWidth * 0.55)\n        && this.state.pointLeft - 10 < (this.state.xLeft + this.padWidth * 0.70)) {\n        this.goRight = true;\n        this.speedX = 0.5;\n        this.speedY = 2.5\n      }\n      else if (this.state.pointLeft + 10 >= (this.state.xLeft + this.padWidth * 0.70)\n        && this.state.pointLeft - 10 < (this.state.xLeft + this.padWidth * 0.90)) {\n        this.goRight = true;\n        this.speedX = 1;\n        this.speedY = 2\n      }\n      else if (this.state.pointLeft + 10 >= (this.state.xLeft + this.padWidth * 0.90)\n        && this.state.pointLeft - 10 < (this.state.xLeft + this.padWidth * 1)) {\n        this.goRight = true;\n        this.speedX = 1.5;\n        this.speedY = 1.5\n      }\n    }\n\n    return (this.state.pointTop > 472\n      && this.state.pointTop < 474\n      && this.state.pointLeft + 10 > this.state.xLeft\n      && this.state.pointLeft - 10 < this.state.xLeft + this.padWidth)\n  }\n\n  moovingBall = () => {\n    if (this.isBallMoving) {\n      this.setState(this.goRight ? { pointLeft: this.state.pointLeft + this.speedX } : { pointLeft: this.state.pointLeft - this.speedX })\n      if (this.state.pointLeft > 355 || this.state.pointLeft < 0\n      ) {\n        this.goRight = !this.goRight\n      } else if (this.checkIfCollideX()) {\n        this.getBonus()\n        this.deleteBricks()\n        this.goRight = !this.goRight\n      }\n      this.setState(this.goDown ? { pointTop: this.state.pointTop + this.speedY } : { pointTop: this.state.pointTop - this.speedY })\n      if (this.state.pointTop < 0 || this.checkIfCollidePadY()\n      ) {\n        this.goDown = !this.goDown\n      } else if (this.checkIfCollideY()) {\n        this.getBonus()\n        this.deleteBricks()\n        this.goDown = !this.goDown\n      }\n      if (this.state.pointTop > 587) {\n        this.isBallMoving = false\n        this.goDown = false\n        this.counterBall = 0\n        this.goRight = true\n        this.life = this.life - 1\n      }\n    } else {\n      this.setState({ pointTop: 472, pointLeft: this.state.xLeft - 10 + this.padWidth / 2, })\n      this.speedX = 1.5\n      this.speedY = 1.5\n    }\n\n    if (this.state.timer < 8) {\n      this.setState({ timer: this.state.timer + 1 })\n    } else {\n      this.setState({ timer: 0 })\n    }\n\n    this.padWidth === 150 && setTimeout(() => this.padWidth = 100, 6000)\n    this.malusOn && setTimeout(() => this.malusOn = false, 6000)\n\n    setTimeout(this.moovingBall, this.interval)\n  }\n\n  getBrickWall = () => {\n    const brick = [];\n    for (let i = 0; i < 6; i++) {\n      for (let j = 0; j < 5; j++) {\n        brick.push({ top: i * 25, left: j * 77 })\n      }\n    }\n    // brick.push({ top: 0, left: 0 })\n    return brick;\n  };\n\n  MouvBartX = () => {\n    if (this.bartGoRight) {\n      this.setState({ bartDepart: this.state.bartDepart + 5 })\n    } else {\n      this.setState({ bartDepart: this.state.bartDepart - 5 })\n    }\n    if (this.state.bartDepart > 375 - 35)\n      this.bartGoRight = false;\n\n    else if (this.state.bartDepart < 35) {\n      this.bartGoRight = true\n    }\n    setTimeout(this.MouvBartX, 100)\n  }\n\n  getRestart = () => {\n    this.life = 3\n    this.win = false\n    this.setState({ brickWall: this.getBrickWall(), bonus: [], time: 61 })\n  }\n\n  countDown = () => {\n    if (this.props.counter === true) {\n      if (this.state.time > 0) {\n        this.setState({ time: this.state.time - 1 })\n      }\n      if (this.state.time <= 9) {\n        this.setState({ color: \"red\" })\n      }\n      if (this.state.time === 0) {\n      }\n      setTimeout(this.countDown, 1000)\n    }\n  }\n\n  componentDidMount() {\n    this.moovingBall()\n    this.movePad()\n    this.MouvBartX()\n    this.countDown()\n    this.getMalus()\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextState.timer === 8 || this.state.pointLeft > 355 || this.state.pointLeft < 0 || this.checkIfCollideX() || this.state.pointTop < 0 || this.checkIfCollideY() || this.checkIfCollidePadY();\n  }\n\n\n  render() {\n    const { pointLeft, pointTop, xLeft, bartDepart, brickWall } = this.state\n    return (\n      <div className=\"Game\" style={{ transform: this.malusOn ? 'scale(0.85) scaleX(-1)' : 'scale(0.85)' }}>\n        {(this.life === 0 || this.state.time === 0 || this.loose === true) && <Popuploose restart={this.getRestart} />}\n        {this.win && <Popupwin restart={this.getRestart} />}\n        <div className=\"header\">\n          <div className=\"lifeBar\">\n            <div className={this.life >= 3 ? \"life\" : \"noLife\"}></div>\n            <div className={this.life >= 2 ? \"life\" : \"noLife\"}></div>\n            <div className={this.life >= 1 ? \"life\" : \"noLife\"}></div>\n          </div>\n          {this.props.counter === true && <Countdown time={this.state.time} color={this.state.color}></Countdown>}\n        </div>\n        <div style={{ position: 'relative', height: '600px', width: '375', top: '67px' }}>\n          <MoveBart left={bartDepart} bartGoRight={this.bartGoRight} endGame={brickWall} />\n          {this.state.brickWall.map(item => {\n            return (\n              <Bricks\n                top={item.top}\n                left={item.left}\n                key={item.top + '-' + item.left}\n              />\n            );\n          })}\n          {this.state.bonus.map(item => {\n            return (\n              <Bonus\n                top={item.top}\n                left={item.left + 10}\n                key={item.top + '-' + item.left}\n                callback={this.isBonusCollide} />\n            )\n          }\n          )}\n          {this.state.malus.map(item => {\n            return (\n              <Malus\n                left={item}\n                key={item}\n                isMalusCollide={this.isMalusCollide} />\n            )\n          }\n          )}\n          {this.state.brickWall.length === 0 &&\n            <FallingBart\n              left={this.state.bartDepart}\n              isBartCollide={this.isBartCollide}\n              isBartDontCollide={this.isBartDontCollide}\n            />\n          }\n          < Point left={pointLeft} top={pointTop} move={this.isBallMoving} brick={brickWall} />\n          {/* <div style={{width: `${this.padWidth}px` , zIndex:'1000', position:'absolute', top:'492px', left:`${xLeft}px`, border: '2px red solid'}}></div> */}\n          <Pad left={xLeft} width={this.padWidth} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Game;"]},"metadata":{},"sourceType":"module"}